{% load static %}

<!DOCTYPE html>
<html>
<head>
    <!-- Online Sources -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!-- Custom Static Files -->
    <script  src="{% static 'js/search.js' %}" type="text/javascript"></script>
    <link href="{% static 'css/search.css' %}" rel="stylesheet" type="text/css">

    <!-- For Date Time Picker -->
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/bootstrap-daterangepicker/3.0.5/daterangepicker.min.css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/bootstrap-daterangepicker/3.0.5/daterangepicker.min.js"></script>
</head>

<body>
    <div class="main-block", id="left">
        <div>
            <form id="search-form" action="/search/q" method="POST">
                {% csrf_token %}
                
                <label for="id_query">Search Query:</label> 
                <input type="text" name="q" maxlength="100" id="id_query" />
                
                <input type="submit" value="search" />
            </form>
        </div>
        <div>
            <form method="POST">
                {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-4">
                        <label for="inputState">Scene</label>
                        <select id="inputState" class="form-control" name = 'scene'>
                        {% if scene %}
                            {% for s in scene %}
                                <option>{{ s }}</option>
                            {% endfor %}
                        {% endif %}
                        <option selected>*</option>
                        <!-- <option>...</option> -->
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-4">
                        <label for="inputState">Type</label>
                        <select id="inputState" class="form-control" name = 'type'>
                        {% if type %}
                            {% for t in type %}
                                <option>{{ t }}</option>
                            {% endfor %}
                        {% endif %}
                        <option selected>*</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-4">
                        <label for="inputState">Project</label>
                        <select id="inputState" class="form-control" name = 'project'>
                        {% if project %}
                            {% for p in project %}
                                <option>{{ p }}</option>
                            {% endfor %}
                        {% endif %}
                        <option selected>*</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class='form-group col-4'>
                        <label for="form-control">Date Range</label>
                        <input class="form-control" id="daterangepicker" type=text/ name="daterange">
                    </div>
                    <script>
                        $( function() {
                            $("#daterangepicker").daterangepicker({
                                showDropdowns: true, 
                                autoUpdateInput: false, 
                                locale:{
                                    cancelLabel: 'Clear'
                                }
                            });
                            $("#daterangepicker").on('apply.daterangepicker', function(ev, picker) {
                                                          $(this).val(picker.startDate.format('MM/DD/YYYY') + ' - ' + picker.endDate.format('MM/DD/YYYY'));
                                                      });

                            $("#daterangepicker").on('cancel.daterangepicker', function(ev, picker) {
                              $(this).val('');
                            });
                        });

                    </script>
                </div>
                <button type="button" class="btn btn-primary" id="search-button">Submit</button>
            </form>
        </div>


        <div>
            <p>search example: scene:gate type:plate-num project:daxie time_year:2018</p>
            <p>scene 场景</p>
            <p>type  项目类型</p>
            <p>project 项目名称</p>
            <p>time 数据入库时间 精确到年月日：2017-01-01</p>
            <p>time_year 数据入库时间 精确到年:2017</p>
            <p>time_and_after 数据入库时间 在某一日期之后（包括当前日期） 精确到年月日</p>
            <p>time_and_before 数据入库时间 在某一日期之前（包括当前日期） 精确到年月日</p>
            <p>time_after 数据入库时间 在某一日期之后（不包括当前日期） 精确到年月日</p>
            <p>time_before 数据入库时间 在某一日期之前（不包括当前日期） 精确到年月日</p>
        </div>
    </div>
    <div class="main-block", id="rigth">
        <div>
            <p>search example: scene:gate type:plate-num project:daxie time_year:2018</p>
            <p>scene 场景</p>
            <p>type  项目类型</p>
            <p>project 项目名称</p>
            <p>time 数据入库时间 精确到年月日：2017-01-01</p>
            <p>time_year 数据入库时间 精确到年:2017</p>
            <p>time_and_after 数据入库时间 在某一日期之后（包括当前日期） 精确到年月日</p>
            <p>time_and_before 数据入库时间 在某一日期之前（包括当前日期） 精确到年月日</p>
            <p>time_after 数据入库时间 在某一日期之后（不包括当前日期） 精确到年月日</p>
            <p>time_before 数据入库时间 在某一日期之前（不包括当前日期） 精确到年月日</p>
        </div>
    </div>
</body> 
</html>